@model List<TrainVanSit>
@{
    Layout = "_Layout";    
}


<div class="container-fluid myContainer">
    <div class="div-contenet-table overflow-auto">
        
            
            <table class="table shadow p-3 mb-5 rounded" id="myTable">
            <thead>
                <tr>                    
                    <th></th>
                    <th class="text-center">Поезд</th>
                    <th class="text-center">Вагон</th>
                    <th class="text-center">Место</th>
                    <th class="text-center">Свободно|Занято</th>
                </tr>
            </thead> 
            <tbody id="editClickbody">    
                @foreach(var gr in Model)
        {

                    <tr class="rowEditStart">
                        <th class="d-flex justify-content-between">
                            @*<a asp-action="Edit" asp-controller="TrainVanSit" asp-route-id="@gr.TrainVanSitId"><i class="bi bi-pencil"></i></a>*@
                            @{
                                if (User.IsInRole("Администратор"))
                                {
                                    if (gr.Ticket?.Count == 0)
                                    {
                                        <a asp-action="Delete" asp-controller="TrainVanSit" asp-route-id="@gr.TrainVanSitId"><i class="bi bi-trash"></i></a>
                                    }
                                    else
                                    {
                                        <br />
                                    }
                                }
                                else
                                {
                                    <br />
                                }
                            }
                    
                </th>
                <td class="text-center">
                    @gr.Train?.Name
                </td>  
                    <td class="text-center">
                    @gr.Van?.Name
                </td>  
                    <td class="text-center">
                    @gr.SitPlace?.Name
                </td>                          
                    @{
                        if(gr.Ticket?.Count == 0)
                        {
                            <td class="text-center">
                                Свободно
                            </td>
                        }
                    else
                    {
                        <td class="text-center">
                                Занято
                        </td>
                    }
                }
                                                          
                        
            </tr>
        }
            </tbody>
        </table>
    </div>
</div>

